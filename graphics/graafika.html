<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="styles.css">
 
  <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
</head>
<body>
    <div class="containerVS">
        <div class="vs">VS</div>
    </div>

    <div class="container">
        <div class="team1"></div>
        <div class="team2"></div>
    </div>
</body>
<script>
  function moveLogos(show) {
    const logo1 = $('.team1');
    const logo2 = $('.team2');
    const vstext = $('.vs');

    // In milliseconds.
    const fadeSpeed = "300";

    if (show) {
      // too esile
      logo1.animate({'background-position-x': "0vh"})
      logo2.animate({'background-position-x': "-88.9vh"})
      vstext.fadeIn(fadeSpeed);
    } else {
      // viska nahhui
      logo1.animate({'background-position-x': "-100vh"})
      logo2.animate({'background-position-x': "0vh"})
      vstext.fadeOut(fadeSpeed);
    }
  }

  function changeBackground(newMapUrl) {
    $('body').css('background-image', 'url(' + newMapUrl + ')');
  }

  const showRep = nodecg.Replicant('showView');
  showRep.on('change', (newVal) => moveLogos(!!newVal))
  
  const currentMapUrl = nodecg.Replicant('currentMapUrl');
  currentMapUrl.on('change', (newMapUrl) => changeBackground(newMapUrl))
  
</script>

</html>
